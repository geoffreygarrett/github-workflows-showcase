name: Gitflow Develop

on:
  workflow_dispatch:
    inputs:
      feature_name:
        type: string
        description: Enter the name of the feature branch
      action:
        type: choice
        description: Choose the action to perform
        options:
        - finish_feature
        - test_feature
      version_bump:
        type: choice
        description: Choose the version bump for unstable release
        options:
        - major
        - minor
        - patch

jobs:
  develop:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2

      - name: Run the selected action
        if: ${{ github.event.inputs.action == 'finish_feature' }}
        run: |
          echo "Merging feature/${{ github.event.inputs.feature_name }} into develop branch"

      - name: Run the selected action
        if: ${{ github.event.inputs.action == 'test_feature' }}
        run: |
          echo "Running tests on feature/${{ github.event.inputs.feature_name }} branch"

      - name: Bump version for unstable release
        if: ${{ github.event.inputs.action == 'test_feature' }}
        run: |
          echo "Bumping version for unstable release: ${{ github.event.inputs.version_bump }}"


